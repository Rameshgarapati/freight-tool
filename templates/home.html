{% extends 'base.html' %}

{% block head %}
<div class="form-center">
  
  <a href="https://forms.office.com/Pages/ResponsePage.aspx?id=xArmDllQHE-FfKnE0tqrIyzeWusmU5tNlLw4iAW-OqJUREREUFRUMTVaN0RGRVNXM0RCWTZUQlFBSS4u" target="_blank" style="position:absolute; top:0px; right:190px" ><button class = "test" style="background-color: rgba(0, 255, 68, 0.2); 
    color: white" >Feedback</button></a>

<form name = "myForm" 
onsubmit="return validateForm()" 
method="post">
    
    <title>SA Tools</title>
  </head>
<style>
  h4 {text-align: center;}
p {text-align: center;}
</style>


  <body>
    <h1>Freight Tool</h1>
  
    <!-- The following is being removed as per Lisa Moore 10/4/2021
      <label for="kg">Kg to Lbs:</label><br> 
      <input type="number" id="kg" name="kg">
      <p id="lbs"></p>
    -->
  
    
  
      <div class="column">

        <h2>General Courier Information</h2>

        <div class="two-col">
          <div class="col1">

    <label for="account">Account :  </label> 
    <select name="account" id="account">
      <option value="245">Source Atlantic - 1100 - SJ</option>
      <option value="260917">N.L. Eldridge - # 1100-NL</option>
      <option value="260907">Hydraulics, Rigging & Rubber - # 1100-HRR</option>
      <option value="260908">Power Transmission - # 1100-PT</option>
      <option value="261044">eCommerce - Saint John - 8000 East</option>
      <option value="374">Source Atlantic - # 1110 Moncton</option>
      <option value="110257">Source Atlantic - # 1111 - PEI</option>
      <option value="264">Power Transmission - # 1120 - Sussex</option>
      <option value="407">Power Transmission - # 1130 - Bathurst</option>
      <option value="10700">Engineered Products & Services - # 1140 - SJ</option>
      <option value="27623">Mobile Valve - 1150 - Tracy</option>
      <option value="234">Source Atlantic - # 1160 - SJ (Grandview)</option>
      <option value="41292">Welding Products & Services - # 1170 - SJ</option>
      <option value="2252">Source Atlantic - # 1200 - Dartmouth</option>
      <option value="38766">Source Atlantic - # 1210 - Halifax</option>
      <option value="550">Source Atlantic - # 1220 - Sydney</option>
      <option value="41569">Power Transmission - # 1240 - Truro</option>
      <option value="24584">Mobile Valve - # 1250 - NS</option>
      <option value="4887">Source Atlantic - # 1260 - Dartmouth</option>
      <option value="109539">Source Atlantic - # 1300 - NL</option>
      <option value="308144">Source Atlantic - # 1310 - Wabush</option>
      <option value="301102">Source Atlantic #1600 - Winnipeg</option>
      <option value="301103">Source Atlantic #1700 - Regina</option>
      <option value="301104">Source Atlantic #1710 - Saskatoon</option>
      <option value="301105">Source Atlantic #1800 - Edmonton</option>
      <option value="301106">Source Atlantic #1810 - Calgary</option>
      <option value="300427">Soucie Salo Safety #3500 - Sudbury</option>
      <option value="300428">Soucie Salo Safety #3510 - Val Caron</option>
      <option value="300429">Soucie Salo Safety #3540 - Timmons (Riverside)</option>
    </select><br><br>

    <label for="differentSizes">Different Sizes:</label>
    <input type="checkbox" id="differentSizes" name="differentSizes"><br><br>

    <!-- Initial input fields -->
    <label for="noitems">Number of items:</label>
    <input type="number" id="noitems" name="noitems"><br><br>

    <label for="mcweight">Weight (lbs):</label>
    <input type="number" id="mcweight" name="mcweight"><br><br>

    <label for="length">Length (Inches):</label>
    <input type="number" id="length" name="length"><br><br>

    <label for="width">Width (Inches):</label>
    <input type="number" id="width" name="width"><br><br>

    <label for="height">Height (Inches):</label>
    <input type="number" id="height" name="height"><br><br>

    <!-- Additional input fields for dimensions (initially hidden) -->
    <div id="dimensions2" style="display: none;">
        <label for="noitems2">Number of items:</label>
        <input type="number" id="noitems2" name="noitems2"><br><br>

        <label for="mcweight2">Weight (lbs):</label>
        <input type="number" id="mcweight2" name="mcweight2"><br><br>

        <label for="length2">Length (Inches):</label>
        <input type="number" id="length2" name="length2"><br><br>

        <label for="width2">Width (Inches):</label>
        <input type="number" id="width2" name="width2"><br><br>

        <label for="height2">Height (Inches):</label>
        <input type="number" id="height2" name="height2"><br><br>
    </div>




  </div>
  <div class="col2">
    <label for="fromcode">From Postal Code:</label>
    <input type="text" pattern = "[A-Za-z][0-9][A-Za-z] [0-9][A-Za-z][0-9]|[A-Za-z][0-9][A-Za-z][0-9][A-Za-z][0-9]" oninvalid="setCustomValidity('Please enter Canadian Postal code format')" onchange="this.setCustomValidity('')" id="fromcode" name="fromcode" ><br><br>
    
    
    
    
    <label for="Country">To Country(Only Purolator) :  </label> 
    <select name="Country" id="Country" onchange = "ShowHideDiv()">
      <option value="CA" selected="selected" >CANADA</option>
      <option value="US">UNITED STATES OF AMERICA</option>
      <option value="AF">AFGHANISTAN</option>
      <option value="AL">ALBANIA</option>
      <option value="DZ">ALGERIA</option>
      <option value="AS">AMERICAN SAMOA</option>
      <option value="AD">ANDORRA</option>
      <option value="AO">ANGOLA</option>
      <option value="AI">ANGUILLA</option>
      <option value="AG">ANTIGUA AND BARBUDA</option>
      <option value="AR">ARGENTINA</option>
      <option value="AM">ARMENIA</option>
      <option value="AW">ARUBA</option>
      <option value="AU">AUSTRALIA</option>
      <option value="AT">AUSTRIA</option>
      <option value="AZ">AZERBAIJAN</option>
      <option value="BS">BAHAMAS</option>
      <option value="BH">BAHRAIN</option>
      <option value="BD">BANGLADESH</option>
      <option value="BB">BARBADOS</option>
      <option value="BY">BELARUS</option>
      <option value="BE">BELGIUM</option>
      <option value="BZ">BELIZE</option>
      <option value="BJ">BENIN</option>
      <option value="BM">BERMUDA</option>
      <option value="BT">BHUTAN</option>
      <option value="BO">BOLIVIA</option>
      <option value="BA">BOSNIA AND HERZEGOVINA</option>
      <option value="BW">BOTSWANA</option>
      <option value="BR">BRAZIL</option>
      <option value="BN">BRUNEI DARUSSALAM</option>
      <option value="BG">BULGARIA</option>
      <option value="AF">BURKINA FASO</option>
      <option value="AL">BURUNDI</option>
      <option value="DZ">CAMBODIA</option>
      <option value="AS">CAMEROON</option>
      <option value="AD">CAPE VERDE</option>
      <option value="AO">CAYMAN ISLANDS</option>
      <option value="AI">CENTRAL AFRICAN</option>
      <option value="AG">CHAD</option>
      <option value="AR">CHILE</option>
      <option value="AM">CHINA</option>
      <option value="AW">COLOMBIA</option>
      <option value="AU">COMOROS</option>
      <option value="AT">CONGO</option>
      <option value="AZ">CONGO, THE DEMOCRATIC</option>
      <option value="BS">COOK ISLANDS</option>
      <option value="BH">COSTA RICA</option>
      <option value="BD">CÃ”TE D'IVOIRE</option>
      <option value="BB">CROATIA</option>
      <option value="BY">CYPRUS</option>
      <option value="BE">CZECH REPUBLIC</option>
      <option value="BZ">DENMARK</option>
      <option value="BJ">DJIBOUTI</option>
      <option value="BM">DOMINICA</option>
      <option value="BT">DOMINICAN REPUBLIC</option>
      <option value="BO">ECUADOR</option>
      <option value="BA">EGYPT</option>
      <option value="BW">EL SALVADOR</option>
      <option value="BR">EQUATORIAL GUINEA</option>
      <option value="BN">ERITREA</option>
      <option value="BG">ESTONIA</option>
      <option value="ET">ETHIOPIA</option>
      <option value="FO">FAROE ISLANDS</option>
      <option value="FJ">FIJI</option>
      <option value="FI">FINLAND</option>
      <option value="FR">FRANCE</option>
      <option value="GF">FRENCH GUIANA</option>
      <option value="PF">FRENCH POLYNESIA</option>
      <option value="GA">GABON</option>
      <option value="GM">GAMBIA</option>
      <option value="GE">GEORGIA</option>
      <option value="DE">GERMANY</option>
      <option value="GH">GHANA</option>
      <option value="GI">GIBRALTAR</option>
      <option value="GR">GREECE</option>
      <option value="GL">GREENLAND</option>
      <option value="GD">GRENADA</option>
      <option value="GP">GUADELOUPE</option>
      <option value="GU">GUAM</option>
      <option value="GT">GUATEMALA</option>
      <option value="GG">GUERNSEY</option>
      <option value="GN">GUINEA</option>
      <option value="GW">GUINEA-BISSAU</option>
      <option value="GY">GUYANA</option>
      <option value="HT">HAITI</option>
      <option value="HN">HONDURAS</option>
      <option value="HK">HONG KONG</option>
      <option value="HU">HUNGARY</option>
      <option value="IS">ICELAND</option>
      <option value="IN">INDIA</option>
      <option value="ID">INDONESIA</option>
      <option value="IR">IRAN, ISLAMIC REPUBLIC OF</option>
      <option value="IQ">IRAQ</option>
      <option value="IE">IRELAND</option>
      <option value="IL">ISRAEL</option>
      <option value="IT">ITALY</option>
      <option value="JM">JAMAICA</option>
      <option value="JP">JAPAN</option>
      <option value="JE">JERSEY</option>
      <option value="JO">JORDAN</option>
      <option value="KZ">KAZAKHSTAN</option>
      <option value="KE">KENYA</option>
      <option value="KI">KIRIBATI</option>
      <option value="KR">"KOREA,REPUBLIC OF"</option>
      <option value="KW">KUWAIT</option>
      <option value="KG">KYRGYZSTAN</option>
      <option value="LA">LAO PEOPLE'S DEMOCRATIC REPUBLIC</option>
      <option value="LV">LATVIA</option>
      <option value="LB">LEBANON</option>
      <option value="LS">LESOTHO</option>
      <option value="LR">LIBERIA</option>
      <option value="LY">LIBYAN ARAB JAMAHIRIYA</option>
      <option value="LI">LIECHTENSTEIN</option>
      <option value="LT">LITHUANIA</option>
      <option value="LU">LUXEMBOURG</option>
      <option value="MO">MACAO</option>
      <option value="MK">"MACEDONIA, THE FORMER YUGOSLAV REPUBLIC"</option>
      <option value="MK">"THE FORMER YUGOSLAV REPUBLIC OF"</option>
      <option value="MG">MADAGASCAR</option>
      <option value="MW">MALAWI</option>
      <option value="MY">MALAYSIA</option>
      <option value="MV">MALDIVES</option>
      <option value="ML">MALI</option>
      <option value="MT">MALTA</option>
      <option value="MH">MARSHALL ISLANDS</option>
      <option value="MQ">MARTINIQUE</option>
      <option value="MR">MAURITANIA</option>
      <option value="MU">MAURITIUS</option>
      <option value="YT">MAYOTTE</option>
      <option value="MX">MEXICO</option>
      <option value="FM">MICRONESIA, FEDERATED</option>
      <option value="MD">"MOLDOVA, REPUBLIC OF"</option>
      <option value="MC">MONACO</option>
      <option value="MN">MONGOLIA</option>
      <option value="ME">MONTENEGRO</option>
      <option value="MS">MONTSERRAT</option>
      <option value="MA">MOROCCO</option>
      <option value="MZ">MOZAMBIQUE</option>
      <option value="NA">NAMIBIA</option>
      <option value="NP">NEPAL</option>
      <option value="NL">NETHERLANDS</option>
      <option value="AN">NETHERLANDS ANTILLES</option>
      <option value="NC">NEW CALEDONIA</option>
      <option value="NZ">NEW ZEALAND</option>
      <option value="NI">NICARAGUA</option>
      <option value="NE">NIGER</option>
      <option value="NG">NIGERIA</option>
      <option value="MP">"NORTHERN MARIANA ISLANDS"</option>
      <option value="NO">NORWAY</option>
      <option value="OM">OMAN</option>
      <option value="PK">PAKISTAN</option>
      <option value="PW">PALAU</option>
      <option value="PA">PANAMA</option>
      <option value="PG">PAPUA NEW GUINEA</option>
      <option value="PY">PARAGUAY</option>
      <option value="PE">PERU</option>
      <option value="PH">PHILIPPINES</option>
      <option value="PL">POLAND</option>
      <option value="PT">PORTUGAL</option>
      <option value="PR">PUERTO RICO</option>
      <option value="QA">QATAR</option>
      <option value="RE">RÃ‰UNION</option>
      <option value="RO">ROMANIA</option>
      <option value="RU">"RUSSIAN FEDERATION"</option>
      <option value="RW">RWANDA</option>
      <option value="KN">SAINT KITTS AND NEVIS</option>
      <option value="LC">SAINT LUCIA</option>
      <option value="VC">"SAINT VINCENT AND THE GRENADINES"</option>
      <option value="WS">SAMOA</option>
      <option value="SM">SAN MARINO</option>
      <option value="SA">SAUDI ARABIA</option>
      <option value="SN">SENEGAL</option>
      <option value="RS">SERBIA</option>
      <option value="SC">SEYCHELLES</option>
      <option value="SL">SIERRA LEONE</option>
      <option value="SG">SINGAPORE</option>
      <option value="SK">SLOVAKIA</option>
      <option value="SI">SLOVENIA</option>
      <option value="SB">SOLOMON ISLANDS</option>
      <option value="ZA">SOUTH AFRICA</option>
      <option value="ES">SPAIN</option>
      <option value="LK">SRI LANKA</option>
      <option value="SD">SUDAN</option>
      <option value="SR">SURINAME</option>
      <option value="SZ">SWAZILAND</option>
      <option value="SE">SWEDEN</option>
      <option value="CH">SWITZERLAND</option>
      <option value="SY">SYRIAN ARAB REPUBLIC</option>
      <option value="TW">"TAIWAN,PROVINCE OF CHINA"</option>
      <option value="TJ">TAJIKISTAN</option>
      <option value="TZ">"TANZANIA,UNITED REPUBLIC OF"</option>
      <option value="TH">THAILAND</option>
      <option value="TL">TIMOR-LESTE</option>
      <option value="TG">TOGO</option>
      <option value="TO">TONGA</option>
      <option value="TT">TRINIDAD AND TOBAGO</option>
      <option value="TN">TUNISIA</option>
      <option value="TR">TURKEY</option>
      <option value="TC">"TURKS AND CAICOS ISLANDS"</option>
      <option value="TV">TUVALU</option>
      <option value="UG">UGANDA</option>
      <option value="UA">UKRAINE</option>
      <option value="AE">UNITED ARAB EMIRATES</option>
      <option value="GB">"UNITED KINGDOM"</option>
      <option value="UY">URUGUAY</option>
      <option value="UZ">UZBEKISTAN</option>
      <option value="VU">VANUATU</option>
      <option value="VE">VENEZUELA</option>
      <option value="VN">VIETNAM</option>
      <option value="VG">VIRGIN ISLANDS, BRITISH</option>
      <option value="VI">VIRGIN ISLANDS, U.S.</option>
      <option value="WF">WALLIS AND FUTUNA</option>
      <option value="YE">YEMEN</option>
      <option value="ZM">ZAMBIA</option>
      <option value="ZW">ZIMBABWE</option>
      
    </select><br><br>
  <div id="City" style="display: none">
    <label for="City">City: </label>
    <input type="text"  id="City1" name="City1" ><br><br>
  </div>
  <div id="topost">
    <label for="tocode">To Postal Code:  </label>
    <input type="text" pattern = "[A-Za-z][0-9][A-Za-z] [0-9][A-Za-z][0-9]|[A-Za-z][0-9][A-Za-z][0-9][A-Za-z][0-9]" oninvalid="setCustomValidity('Please enter Canadian Postal code format')" onchange="this.setCustomValidity('')" id="tocode" name="tocode" >
    <a href="https://www.canadapost-postescanada.ca/info/mc/personal/postalcode/fpc.jsf" target="_blank">Find Postal Code</a>

    <br><br>
  </div>

  <div id="topostUS" style="display: none">
    <label for="tocode1">To Zip Code:  </label>
    <input type="text" pattern = "^[0-9]{5}(-[0-9]{4})?$" inputmode="numeric" oninvalid="setCustomValidity('Please enter US Postal code format')" onchange="this.setCustomValidity('')" id="tocode1" name="tocode1" ><br><br>
   


  </div>
    <label for="Date">Shipment Date:   </label> 
    <input type="date" id="Date"  name="Date">      <br>
    <br><br>
    </div class="wrapper">
    <button type="submit" id="calc" class="button"  style="background-color: red; 
    color: white">Calculate </button>   
<br><br>
</div>
</div>
<div>
  <h1>Summary</h1>
   
{% for table in tables1 %}
            
            {{ table|safe }}
{% endfor %}  
</div>
<div>
<h1>Tax Detail</h1>
{% for table in tables %}
            
            {{ table|safe }}
{% endfor %}  
</div>
</div>
</form>
<script>
  function validateForm() {
    var x = document.forms["myForm"]["account"].value;
    var y = document.forms["myForm"]["mcweight"].value;
    var z = document.forms["myForm"]["noitems"].value;
    var a = document.forms["myForm"]["tocode"].value;
    var b = document.forms["myForm"]["fromcode"].value;
    var con = document.getElementById("Country");
    var c = document.forms["myForm"]["tocode1"].value;
    var d = document.forms["myForm"]["City1"].value;
  
   if (con.value == "CA" ){
    
    if (x == "" || x == null || y == "" || y == null || z == "" || z == null || a == "" || a == null || b == "" || b == null) {
      alert("Every field is Mandatory except date");
      return false;
    }
    return true;

   }
   if (con.value == "US"){

    if (x == "" || x == null || y == "" || y == null || z == "" || z == null || c == "" || c == null || b == "" || b == null) {
      alert("Every field is Mandatory except date");
      return false;
    }
    return true;

   }
   if (con.value != ("CA"|| !"US") || (!"CA"|| "US")){

if (x == "" || x == null || y == "" || y == null || z == "" || z == null || d == "" || d == null || b == "" || b == null) {
  alert("Every field is Mandatory except date");
  return false;
}
return true;

}
  }

  

  </script>




  <script>
 var today = new Date();
    var dd = today.getDate();
    var mm = today.getMonth()+1; //January is 0 so need to add 1 to make it 1!
    var yyyy = today.getFullYear();


if(dd<10){
  dd='0'+dd
} 
if(mm<10){
  mm='0'+mm
} 


today = yyyy+'-'+mm+'-'+dd;

document.getElementById("Date").setAttribute("min", today);

  </script>

<script>
  const differentSizesCheckbox = document.getElementById("differentSizes");
  const dimensions2 = document.getElementById("dimensions2");
  let dimensionsCount = 1; // Initial dimensions count

  differentSizesCheckbox.addEventListener("change", () => {
      dimensions2.style.display = differentSizesCheckbox.checked ? "block" : "none";
  });

  function addDimensions() {
      if (dimensionsCount < 3) {
          dimensionsCount++;
          const newDimensions = dimensions2.cloneNode(true);
          newDimensions.id = `dimensions${dimensionsCount}`; // Update the ID
          // Update input IDs within the new dimensions
          newDimensions.querySelector("#length2").id = `length${dimensionsCount}`;
          newDimensions.querySelector("#width2").id = `width${dimensionsCount}`;
          newDimensions.querySelector("#height2").id = `height${dimensionsCount}`;
          newDimensions.querySelector("#noitems2").id = `height${dimensionsCount}`;
          newDimensions.querySelector("#mcweight2").id = `height${dimensionsCount}`;

          dimensions2.parentNode.insertBefore(newDimensions, dimensions2.nextSibling);
      } else {
          alert("Maximum of 3 different sizes allowed.");
      }
  }
</script>

  <script>
    var fortnightAway = new Date(Date.now() + 12096e5);
    var dd1 = fortnightAway.getDate();
    var mm1 = fortnightAway.getMonth()+1;
    var yyyy1 = fortnightAway.getFullYear();
    if(dd1<10){
  dd1='0'+dd1
} 
if(mm1<10){
  mm1='0'+mm1
} 
    twoweeks = yyyy1+'-'+mm1+'-'+dd1;
  document.getElementById("Date").setAttribute("max", twoweeks);
  </script>
  <script>  window.addEventListener('load', 
    function() { 
      HTMLFormElement.reset();
    }, false);</script>
    <script>window.history.forward(1);</script>

    <script type="text/javascript">
      function ShowHideDiv() {
          var con = document.getElementById("Country");
          var City = document.getElementById("City");
          var to = document.getElementById("topost");
          var toUS = document.getElementById("topostUS")
          City.style.display = con.value != ("CA"|| !"US") || (!"CA"|| "US") ? "block" : "none";
          if (!(con.value == "CA" || con.value == "US"  )) {
            City.style.display = "block" 
  //  block of code to be executed if condition1 is true
} 
 
 else {
  City.style.display = "none" 
}
          toUS.style.display = con.value == "US" ? "block" : "none";
          to.style.display = con.value == "CA" ? "block" : "none";
      }
  </script>
    <script></script>
  </body>

{% endblock %}
